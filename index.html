<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Figura Rostro KG - Estética Integral</title>

  <style>
    :root{
      --violeta:#a18cd1; --lavanda:#fbc2eb; --violeta-oscuro:#7e63c9;
      --gris-texto:#2c2c2c; --gris-suave:#555; --blanco:#fff;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:"Poppins",sans-serif;background:#f5f5f5;color:var(--gris-texto);text-align:center}

    /* HEADER */
    header{
      position:relative;width:100%;height:420px;display:flex;flex-direction:column;
      justify-content:center;align-items:center;color:#fff;padding:40px 20px;text-align:center;overflow:hidden;
    }
    header::before{
      content:"";position:absolute;inset:0;background:url('header-portada.jpg') center/cover no-repeat;z-index:-2;
    }
    header::after{
      content:"";position:absolute;inset:0;
      background:linear-gradient(135deg,rgba(155,93,229,.70),rgba(161,140,209,.70),rgba(251,194,235,.70));z-index:-1;
    }
    header img.logo{width:180px;height:auto;margin-bottom:16px}
    header h1{font-size:28px;font-weight:700;margin:10px 0}
    header p{font-size:16px;color:#fff;margin:0}

    /* SECCIONES */
    section{padding:40px 20px;max-width:1100px;margin:auto}
    h2{color:var(--violeta-oscuro);font-size:26px;margin-bottom:30px}

    /* Cards generales */
    .card{background:#fff;border-radius:14px;box-shadow:0 8px 20px rgba(0,0,0,.08);text-align:left;overflow:hidden}
    .card img{width:100%;height:200px;object-fit:cover;display:block;background:#eaeaea}
    .card .box{padding:16px 18px}
    .card h3{margin:0 0 6px;color:#7e63c9;font-size:18px}
    .card p{color:#555;margin:10px 0 0;font-size:14px;line-height:1.55}

    /* Carrusel reutilizable */
    .carousel{position:relative}
    .carousel-viewport{overflow:hidden;border-radius:18px}
    .carousel-track{display:flex;transition:transform .5s ease;will-change:transform}
    .carousel-slide{min-width:100%;padding:6px}
    .carousel-grid{display:grid;gap:16px;grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (max-width:700px){.carousel-grid{grid-template-columns:1fr}}

    .carousel-nav{
      position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.55);color:#fff;border:0;width:44px;height:44px;
      border-radius:999px;display:grid;place-items:center;cursor:pointer;box-shadow:0 8px 18px rgba(0,0,0,.28);z-index:3
    }
    .carousel-nav:hover{background:rgba(0,0,0,.7)}
    .carousel-nav svg{width:22px;height:22px}
    .carousel-nav.prev{left:12px}
    .carousel-nav.next{right:12px}
    .carousel-dots{display:flex;gap:8px;justify-content:center;margin-top:14px}
    .carousel-dots .dot{width:10px;height:10px;border-radius:999px;border:0;cursor:pointer;background:#c9b4f5}
    .carousel-dots .dot[aria-selected="true"]{background:#6b45b1}

    /* Ofertas */
    .offers-viewport{overflow:hidden;border-radius:18px;position:relative}
    .offers-track{display:flex;transition:transform .5s ease}
    .offer-slide{min-width:100%}
    .offer-card{display:flex;flex-wrap:wrap;align-items:center;justify-content:center;background:linear-gradient(135deg,#fbc2eb,#a18cd1);border-radius:18px;box-shadow:0 8px 20px rgba(0,0,0,.12);overflow:hidden;text-align:left;color:#222}
    .offer-info{flex:1 1 380px;padding:30px}
    .offer-info h3{color:#6b45b1;font-size:24px;margin-top:0}
    .offer-info .precio{font-size:22px;color:#6c2eb9}
    .offer-img{flex:1 1 300px}
    .offer-img img{width:100%;height:100%;object-fit:cover;display:block;background:#ddd}

    .offer-nav{
      position:absolute;top:50%;transform:translateY(-50%);background:rgba(0,0,0,.55);color:#fff;border:0;width:44px;height:44px;border-radius:999px;
      display:grid;place-items:center;cursor:pointer;box-shadow:0 8px 18px rgba(0,0,0,.28);z-index:5;transition:background .2s;
    }
    .offer-nav:hover{background:rgba(0,0,0,.7)}
    .offer-nav.prev{left:12px}.offer-nav.next{right:12px}
    .offer-nav svg{width:22px;height:22px}
    .offer-dots{display:flex;gap:8px;justify-content:center;margin-top:12px}
    .offer-dots .dot{width:10px;height:10px;border-radius:999px;border:0;cursor:pointer;background:#c9b4f5}
    .offer-dots .dot[aria-selected="true"]{background:#6b45b1}

    /* Galería */
    .media-grid{display:grid;gap:14px;grid-template-columns:repeat(3,1fr)}
    .media-grid figure{margin:0;border-radius:14px;overflow:hidden;background:#fff;box-shadow:0 8px 20px rgba(0,0,0,.08);cursor:pointer}
    .media-grid img{width:100%;height:240px;object-fit:cover;display:block}
    @media (max-width:900px){.media-grid{grid-template-columns:repeat(2,1fr)}.media-grid img{height:200px}}
    @media (max-width:520px){.media-grid{grid-template-columns:1fr}.media-grid img{height:220px}}

    /* Lightbox */
    dialog#lightbox{width:min(980px,92vw);border:0;border-radius:16px;padding:0;overflow:hidden;box-shadow:0 24px 60px rgba(0,0,0,.35);z-index:1000}
    dialog#lightbox::backdrop{background:rgba(0,0,0,.65)}
    .lightbox-body{position:relative;background:#000}
    .lightbox-body img,.lightbox-body video,.lightbox-body iframe{width:100%;height:calc(92vh - 80px);object-fit:contain;border:0;background:#000}
    .lightbox-close{position:absolute;top:8px;right:8px;background:rgba(0,0,0,.6);color:#fff;border:0;width:36px;height:36px;border-radius:999px;cursor:pointer;font-size:18px;z-index:2}

    /* Sobre + video */
    #sobre{display:grid;grid-template-columns:1.2fr 1fr;gap:24px;align-items:center}
    #sobre .about-card{background:#fff;border-radius:16px;box-shadow:0 8px 20px rgba(0,0,0,.08);text-align:left;padding:24px}
    #sobre .about-card h2{margin-top:0}
    #sobre .about-card p{color:#4a4a4a;line-height:1.7}
    .video-card{background:#fff;border-radius:16px;box-shadow:0 8px 20px rgba(0,0,0,.08);overflow:hidden;text-align:left}
    .ratio{position:relative;width:100%;padding-top:56.25%;background:#000}
    .ratio iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
    .video-actions{display:flex;gap:10px;padding:12px 16px;border-top:1px solid #eee}
    .video-btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:10px;background:#f3ecff;color:#5d3bb5;border:0;cursor:pointer;font-weight:600;text-decoration:none}
    .video-btn:hover{filter:brightness(.97)}
    @media (max-width:900px){#sobre{grid-template-columns:1fr}}

    /* Menú de Servicios (Tabs) */
    .tabs{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-bottom:18px}
    .tab-btn{border:1px solid #e7d7f3;background:#fff;color:var(--violeta-oscuro);padding:.6rem 1rem;border-radius:999px;font-weight:600;cursor:pointer;transition:.2s}
    .tab-btn:hover{transform:translateY(-1px)}
    .tab-btn.active{background:var(--violeta-oscuro);color:#fff;border-color:var(--violeta-oscuro)}
    .tab-panel.hidden{display:none}

    .srv-grid{display:grid;gap:16px;grid-template-columns:repeat(3,1fr)}
    @media (max-width:980px){.srv-grid{grid-template-columns:repeat(2,1fr)}}
    @media (max-width:620px){.srv-grid{grid-template-columns:1fr}}
    .srv-card{background:#fff;border-radius:14px;box-shadow:0 8px 20px rgba(0,0,0,.08);padding:16px 18px;text-align:left;border:1px solid #f0e7f7}
    .srv-card h3{margin:0 0 6px;color:var(--violeta-oscuro);font-size:18px}
    .srv-card p{color:#555;margin:6px 0 10px;font-size:14px;line-height:1.55}
    .srv-meta{font-size:13px;color:#6b7280;margin-bottom:10px}
    .srv-cta{display:inline-block;background:linear-gradient(135deg,var(--lavanda),var(--violeta));color:#fff;text-decoration:none;padding:.55rem .9rem;border-radius:999px;font-weight:700;box-shadow:0 6px 14px rgba(0,0,0,.18)}
    .srv-cta:hover{filter:brightness(.97)}

    /* Footer */
    .site-footer{background:#222;color:#fff;margin-top:3rem}
    .footer-inner{max-width:1100px;margin:0 auto;padding:2rem 1rem;display:grid;gap:1.5rem;grid-template-columns:1.2fr 1fr 1.2fr}
    .site-footer .logo{height:42px;margin-bottom:.5rem;filter:brightness(1000%)}
    .site-footer .cta{display:inline-block;margin-top:.6rem;background:linear-gradient(135deg,var(--lavanda),var(--violeta));color:#fff;text-decoration:none;padding:.55rem 1rem;border-radius:999px;font-weight:700;box-shadow:0 6px 14px rgba(0,0,0,.18)}
    .site-footer h4{margin:0 0 .5rem;font-weight:700;color:#fff}
    .icons{display:flex;gap:10px;flex-wrap:wrap}
    .icons .ico{
      display:inline-flex;align-items:center;justify-content:center;width:42px;height:42px;border-radius:12px;
      background:#fff;color:#4a4a4a;box-shadow:0 6px 14px rgba(0,0,0,.18);transition:.2s
    }
    .icons .ico:hover{transform:translateY(-2px);filter:brightness(0.92)}
    .map-embed{overflow:hidden;border-radius:14px}
    .directions a{color:#bbb;text-decoration:none}
    .directions a:hover{text-decoration:underline}
    .legal{border-top:1px solid rgba(255,255,255,.08);padding:1rem;text-align:center;color:#b9b9c3}

    /* FAB */
    .fab-stack{position:fixed;right:16px;bottom:18px;display:flex;flex-direction:column;gap:12px;z-index:60}
    .fab{width:56px;height:56px;border-radius:999px;display:flex;align-items:center;justify-content:center;box-shadow:0 12px 28px rgba(0,0,0,.18);text-decoration:none}
    .fab svg{width:28px;height:28px;fill:#fff}
    .fab.menu{background:linear-gradient(135deg,var(--lavanda),var(--violeta))}
    .fab.waze{background:#2BC3F3}
    .fab.whatsapp{background:#25D366}
    @media (max-width:768px){.fab-stack{display:flex}}
    @media (max-width:480px){header h1{font-size:22px}header img.logo{width:150px}}

    /* ======== MOBILE per PDF ======== */

    /* 1) Ocultar Menú de Servicios sólo en móvil */
    @media (max-width:640px){ #menu-servicios{ display:none !important; } }

    /* 2) Faciales/Corporales apilados en móvil (sin carrusel) */
    @media (max-width:640px){
      #tratamientos-faciales .carousel-nav,
      #tratamientos-faciales .carousel-dots,
      #tratamientos-corporales .carousel-nav,
      #tratamientos-corporales .carousel-dots{ display:none !important; }

      #tratamientos-faciales .carousel-track,
      #tratamientos-corporales .carousel-track{ transform:none !important; display:block; }
      #tratamientos-faciales .carousel-slide,
      #tratamientos-corporales .carousel-slide{ min-width:auto; padding:0; margin-bottom:14px; }
      #tratamientos-faciales .carousel-grid,
      #tratamientos-corporales .carousel-grid{ grid-template-columns:1fr !important; gap:14px; }
    }

    /* 3) Sobre: subtítulo corto + ocultar texto largo en móvil */
    #sobre .about-card h2 + p::before{
      content:"Tu Estética y Terapeuta en Parque Lefevre";
      display:block; font-weight:600; color:#7e63c9; margin-bottom:.35rem;
    }
    @media (max-width:640px){
      #sobre .about-card p{ display:none; }
    }

    /* 4) Productos en venta */
    #productos{ padding-top:24px; }
    .product-scroll{ display:flex; gap:12px; overflow-x:auto; scroll-snap-type:x mandatory; padding-bottom:4px; }
    .product-scroll::-webkit-scrollbar{ height:6px; }
    .product-scroll::-webkit-scrollbar-thumb{ background:#c9b4f5; border-radius:999px; }
    .prod-card{
      flex:0 0 82%; max-width:82%;
      background:#fff; border:1px solid #f0e7f7; border-radius:16px;
      box-shadow:0 8px 18px rgba(0,0,0,.08);
      display:grid; grid-template-columns:84px 1fr auto; gap:12px; padding:12px; align-items:center;
      scroll-snap-align:start;
    }
    .prod-card img{ width:84px; height:84px; object-fit:cover; border-radius:10px; background:#eee; }
    .prod-info h3{ margin:.1rem 0; font-size:16px; color:#7e63c9; }
    .prod-info p{ margin:0; color:#555; font-size:13px; }
    .prod-price{ font-weight:800; color:#6b45b1; font-size:18px; }
    .prod-cta{
      grid-column:1/-1; display:inline-block; text-align:center;
      background:linear-gradient(135deg,var(--lavanda),var(--violeta));
      color:#fff; text-decoration:none; padding:.55rem .9rem; border-radius:999px; font-weight:700;
    }
    @media (min-width:841px){
      .product-scroll{ display:grid; grid-template-columns:repeat(3,1fr); overflow:visible; }
      .prod-card{ flex:none; max-width:100%; }
    }

    /* 5) Lightbox móvil */
    @media (max-width:600px){
      dialog#lightbox{width:100vw;margin:0;border-radius:0;}
      .lightbox-body img,.lightbox-body video,.lightbox-body iframe{height:calc(100dvh - 56px);}
      .lightbox-close{width:44px;height:44px;font-size:22px;top:10px;right:10px;background:rgba(0,0,0,.65);}
    }

    /* 6) UX móvil general */
    @media (max-width:640px){
      body{font-size:15px}
      section{padding:28px 14px}
      h2{font-size:20px;margin-bottom:18px}

      header{height:320px;padding:26px 14px}
      header img.logo{width:140px}
      header h1{font-size:20px;margin:8px 0}
      header p{font-size:14px}

      .card img{height:180px}
      .carousel-nav{width:46px;height:46px}
      .carousel-nav svg{width:22px;height:22px}

      .offer-card{flex-direction:column; align-items:stretch}
      .offer-info{padding:18px}
      .offer-img{order:2}
      .offer-img img{height:200px; border-radius:0 0 18px 18px}
      .offer-nav{width:46px;height:46px}
      .offer-nav.prev{left:10px} .offer-nav.next{right:10px}

      .media-grid{grid-template-columns:1fr}
      .media-grid img{height:240px}

      .fab-stack{ right:0; left:0; bottom:10px; flex-direction:row; justify-content:center; gap:16px; padding:0 12px }
      .fab{width:56px;height:56px;border-radius:16px}
    }

    /* Helpers móviles (por si los quieres) */
    @media (max-width:640px){
      .m-hide{display:none !important;}
      .m-only{display:block !important;}
    }
    @media (min-width:641px){ .m-only{display:none !important;} }

    /* Micro-mejoras */
    .offer-img img{object-fit:cover;display:block;background:#e6e6e6}
    .offers-viewport{scroll-behavior:smooth}
/* ===== Footer móvil estilo maqueta ===== */
@media (max-width:640px){
  .site-footer{ background:#000 !important; }
  .footer-inner{
    grid-template-columns:1fr !important;
    gap:18px !important;
    text-align:center !important;
  }
  .site-footer .logo{
    height:64px !important;
    margin:8px auto 10px !important;
    display:block !important;
    filter:none !important;
  }
  /* Ocultar mapa y enlaces de cómo llegar en móvil */
  .site-footer .map,
  .site-footer .directions{ display:none !important; }

  /* Tipografía y espaciado de bloques (HORARIO / UBICACIÓN / CONTACTO) */
  .footer-info h5{
    margin:.8rem 0 .2rem !important;
    font-size:14px !important;
    letter-spacing:.04em;
    color:#bdb7ff !important; /* violeta suave */
    text-transform:uppercase;
  }
  .footer-info p{
    margin:.2rem 0 .6rem !important;
    color:#eaeaea !important;
    line-height:1.45;
    font-size:14px !important;
  }

  /* Redes centradas */
  .social{ text-align:center !important; }
  .social h4{ display:none !important; } /* opcional: ocultar título */
  .icons{ justify-content:center !important; gap:14px !important; }
  .icons .ico{
    width:44px !important; height:44px !important; border-radius:14px !important;
    background:#111 !important; color:#fff !important; box-shadow:none !important;
    border:1px solid rgba(255,255,255,.12);
  }

  /* Legal compacto */
  .legal{ color:#9b9bb5 !important; font-size:12px !important; }

  /* FABs al costado derecho, centrados verticalmente */
  .fab-stack{
    right:10px !important; left:auto !important;
    bottom:auto !important; top:50% !important;
    transform:translateY(-50%);
    flex-direction:column !important; gap:12px !important;
    padding:0 !important;
  }
  .fab{ width:54px !important; height:54px !important; border-radius:18px !important; }
}

    /* ===== Footer escritorio (restaurar 3 columnas elegantes) ===== */
@media (min-width: 901px){
  /* Fondo y tipografía general del footer en desktop */
  .site-footer{
    background:#222 !important;
    color:#fff;
  }
  .footer-inner{
    max-width:1100px;
    margin:0 auto;
    padding:2rem 1rem;
    display:grid !important;
    gap:1.5rem;
    grid-template-columns:1.2fr 1fr 1.2fr !important; /* 3 columnas */
    align-items:start;
    text-align:left !important; /* vuelve a texto a la izquierda */
  }

  /* Columna 1: marca / info */
  .footer-inner .brand,
  .footer-info{ text-align:left !important; }
  .site-footer .logo{
    height:42px !important;
    margin:0 0 .5rem !important;
    display:block;
    filter:brightness(1000%); /* logo blanco sobre fondo oscuro */
  }
  .site-footer h4{ color:#fff; margin:0 0 .5rem; font-weight:700; }

  /* Columna 2: redes (título visible y alineación izquierda) */
  .social{ text-align:left !important; }
  .social h4{ display:block !important; margin-bottom:.5rem; }
  .icons{ justify-content:flex-start !important; gap:10px !important; }
  .icons .ico{
    width:42px !important; height:42px !important; border-radius:12px !important;
    background:#fff !important; color:#4a4a4a !important;
    border:0; box-shadow:0 6px 14px rgba(0,0,0,.18);
  }

  /* Columna 3: mapa / cómo llegar (volver a mostrar en desktop) */
  .site-footer .map,
  .site-footer .directions{ display:block !important; }
  .map-embed{ overflow:hidden; border-radius:14px; }
  .directions a{ color:#bbb; text-decoration:none; }
  .directions a:hover{ text-decoration:underline; }

  /* Legal */
  .legal{
    border-top:1px solid rgba(255,255,255,.08);
    padding:1rem;
    text-align:center;
    color:#b9b9c3;
  }

  /* FABs: vuelven a esquina inferior derecha en desktop */
  .fab-stack{
    right:16px !important; bottom:18px !important;
    top:auto !important; transform:none !important;
    flex-direction:column !important; gap:12px !important;
  }
}

/* Pequeño refinamiento para tablets medianas */
@media (min-width: 641px) and (max-width: 900px){
  .footer-inner{
    grid-template-columns:1fr 1fr !important;
  }
  .site-footer .map{ grid-column:1 / -1; }
}

    /* --- Tuning Promos del Mes (solo móvil) --- */
@media (max-width:640px){
  .offer-card{
    flex-direction:column;
    border-radius:20px;
    overflow:hidden;                 /* evita esquinas cortadas / desbordes */
  }
  .offer-info{
    padding:16px 16px 8px;           /* menos aire arriba */
    text-align:left;
  }
  .offer-card h3{
    font-size:22px;
    line-height:1.2;
    margin:0 0 6px;
  }
  .offer-info p{
    font-size:14px;
    margin:.25rem 0;
    line-height:1.45;
  }

  .offer-img{ width:100%; order:2; }
  .offer-img img{
    width:100%;
    height:180px;                    /* altura controlada para no “aplastar” */
    object-fit:cover;
    display:block;
  }

  .offer-slide{ padding:0 4px; }     /* menos margen lateral */
  .offers-viewport{ padding-right:72px; } /* margen por columna FAB */
  .offer-dots{ margin-top:8px; }

  /* flecha derecha un poco adentro para que no choque con el FAB */
  .offer-nav.next{ right:76px; }
  .offer-nav.prev{ left:12px; }
  .offer-nav{ width:42px; height:42px; }
}

    /* --- Promos del Mes: tuning móvil pro --- */
@media (max-width:640px){
  .offer-card{
    display:flex;
    flex-direction:column;
    border-radius:22px;
    overflow:hidden;                /* evita “bordes mordidos” */
    box-shadow:0 10px 24px rgba(0,0,0,.12);
  }
  .offer-info{
    padding:16px 16px 10px;
    text-align:left;
  }
  .offer-card h3{ font-size:22px; line-height:1.2; margin:0 0 6px; }
  .offer-info p{ font-size:14px; margin:.25rem 0; line-height:1.45; }

  /* Imagen 100% con proporción estable */
  .offer-img{ width:100%; order:2; aspect-ratio: 16 / 10; }
  .offer-img img{
    width:100%; height:100%;
    object-fit:cover; display:block;
  }
  /* Fallback para navegadores sin aspect-ratio (algunos iOS antiguos) */
  @supports not (aspect-ratio: 1){
    .offer-img{ height:clamp(160px, 42vw, 240px); }
    .offer-img img{ height:100%; }
  }

  /* Evitar choque con la columna FAB */
  .offers-viewport{ padding-right:74px; }
  .offer-nav.next{ right:78px; }    /* flecha derecha un poco adentro */
  .offer-nav.prev{ left:12px; }
  .offer-nav{ width:42px; height:42px; }
  .offer-dots{ margin-top:8px; }
}

 /* --- Promos del Mes (forzar layout móvil con alta especificidad) --- */
@media (max-width:640px){
  #ofertas .offer-card{
    display:flex !important;
    flex-direction:column !important;
    border-radius:22px !important;
    overflow:hidden !important;
    box-shadow:0 10px 24px rgba(0,0,0,.12);
  }
  #ofertas .offer-info{
    padding:16px 16px 10px !important;
    text-align:left !important;
  }
  #ofertas .offer-card h3{
    font-size:22px !important;
    line-height:1.2 !important;
    margin:0 0 6px !important;
  }
  #ofertas .offer-info p{
    font-size:14px !important;
    margin:.25rem 0 !important;
    line-height:1.45 !important;
  }

  /* Imagen 100% con proporción estable */
  #ofertas .offer-img{
    width:100% !important;
    order:2 !important;
    aspect-ratio:16 / 10 !important;
  }
  #ofertas .offer-img img{
    width:100% !important;
    height:100% !important;
    object-fit:cover !important;
    display:block !important;
  }
  /* Fallback iOS antiguos sin aspect-ratio */
  @supports not (aspect-ratio: 1){
    #ofertas .offer-img{ height:clamp(170px, 44vw, 240px) !important; }
    #ofertas .offer-img img{ height:100% !important; }
  }

  /* Evitar choque con FAB */
  #ofertas .offers-viewport{ padding-right:78px !important; }
  #ofertas .offer-nav.next{ right:82px !important; }
  #ofertas .offer-nav.prev{ left:12px !important; }
  #ofertas .offer-nav{ width:42px !important; height:42px !important; }
  #ofertas .offer-dots{ margin-top:10px !important; }
}

  /* ===== Promos del Mes — versión móvil independiente ===== */
.offers-mobile{ display:none; }  /* por defecto (desktop) */

@media (max-width:640px){
  /* Ocultar el carrusel actual SOLO en móvil */
  #ofertas .offers-carousel{ display:none !important; }

  /* Mostrar el nuevo scroller móvil */
  #ofertas .offers-mobile{ display:block; }

  #ofertas .offers-mobile .m-scroll{
    display:flex;
    gap:14px;
    overflow-x:auto;
    scroll-snap-type:x mandatory;
    padding: 0 82px 10px 12px;          /* +82px a la derecha para no chocar con el FAB */
    -webkit-overflow-scrolling: touch;
  }
  #ofertas .offers-mobile .m-offer{
    flex: 0 0 88%;
    scroll-snap-align: center;
    border-radius:22px;
    background: linear-gradient(135deg, #fbc2eb, #a18cd1);
    box-shadow: 0 12px 24px rgba(0,0,0,.12);
    overflow:hidden;
    display:flex;
    flex-direction:column;
  }
  #ofertas .offers-mobile .m-body{
    padding:16px 16px 10px;
    text-align:left;
  }
  #ofertas .offers-mobile h3{
    font-size:22px;
    line-height:1.2;
    margin:0 0 6px;
    color:#5b3bb6;
  }
  #ofertas .offers-mobile p{ margin:.35rem 0; font-size:14px; line-height:1.45; color:#222; }
  #ofertas .offers-mobile .price b{ color:#5b3bb6; font-size:18px; }

  #ofertas .offers-mobile .m-btn{
    display:inline-block;
    margin-top:8px;
    font-weight:700;
    background:#5b3bb6;
    color:#fff;
    text-decoration:none;
    padding:10px 14px;
    border-radius:12px;
  }

  /* Imagen con proporción estable */
  #ofertas .offers-mobile .m-img{ width:100%; aspect-ratio: 16 / 10; background:#000; }
  #ofertas .offers-mobile .m-img img{
    width:100%; height:100%; object-fit:cover; display:block;
  }
  /* Fallback para navegadores sin aspect-ratio */
  @supports not (aspect-ratio: 1){
    #ofertas .offers-mobile .m-img{ height:clamp(170px, 44vw, 240px); }
    #ofertas .offers-mobile .m-img img{ height:100%; }
  }

  /* Puntos de página (opcionales) */
  #ofertas .offers-mobile .m-dots{
    display:flex; gap:8px; justify-content:center; margin:10px 0 0;
  }
  #ofertas .offers-mobile .m-dots span{
    width:8px; height:8px; border-radius:999px; background:#c9b4f5;
  }
}

  /* ===== Visor full-screen para Promos (solo móvil) ===== */
@media (max-width:640px){
  .promo-modal{ position:fixed; inset:0; z-index:9999; display:none; }
  .promo-modal.open{ display:block; }
  .promo-backdrop{ position:absolute; inset:0; background:rgba(0,0,0,.75); }

  .promo-view{
    position:absolute; inset:4% 4%;
    background:#fff; border-radius:18px; overflow:hidden;
    display:flex; flex-direction:column;
    box-shadow:0 20px 50px rgba(0,0,0,.35);
  }

  .promo-head{ display:flex; align-items:center; justify-content:space-between;
    padding:10px 12px; background:#f7f5ff; }
  .promo-title{ font-weight:700; color:#5b3bb6; font-size:16px; margin:0; }
  .promo-close{ border:0; width:36px; height:36px; border-radius:999px;
    background:#000; color:#fff; font-size:18px; display:grid; place-items:center; }

  .promo-viewport{ position:relative; overflow:hidden; flex:1; background:#000; }
  .promo-track{ height:100%; display:flex; transition:transform .45s ease; }

  .pm-slide{ min-width:100%; height:100%; overflow:auto; background:#fff;
    display:flex; flex-direction:column; }
  .pm-body{ padding:16px; background:#fff; }
  .pm-body h3{ margin:0 0 6px; color:#5b3bb6; font-size:20px; line-height:1.2; }
  .pm-body p{ margin:.35rem 0; color:#333; }
  .pm-body .price b{ color:#5b3bb6; }

  .pm-img{ width:100%; aspect-ratio:16/10; background:#000; }
  .pm-img img{ width:100%; height:100%; object-fit:cover; display:block; }
  @supports not (aspect-ratio:1){
    .pm-img{ height:clamp(200px, 48vw, 320px); }
    .pm-img img{ height:100%; }
  }

  .promo-dots{ position:absolute; left:0; right:0; bottom:10px;
    display:flex; justify-content:center; gap:8px; }
  .promo-dots .dot{ width:8px; height:8px; border-radius:999px; background:#c9b4f5; }
  .promo-dots .dot[aria-current="true"]{ background:#6b45b1; }

  /* Gestos: área para “arrastrar” (toma toda la zona de contenido) */
  .pm-slide{ touch-action:pan-y; }
}

/* Evitar scroll del body cuando el visor está abierto */
.body-lock{ overflow:hidden; height:100vh; }

  /* ===== REFINES VISOR PROMOS (móvil) – legibilidad y proporción ===== */
@media (max-width:640px){
  /* pantalla completa real y segura (iOS safe areas) */
  .promo-modal.open{ display:block; }
  .promo-backdrop{ background:rgba(0,0,0,.75); }
  .promo-view{
    position:fixed; 
    inset:0;                               /* full screen */
    padding-top: max(10px, env(safe-area-inset-top));
    padding-bottom: max(10px, env(safe-area-inset-bottom));
    border-radius:0; 
    background:#fff;
    display:flex; 
    flex-direction:column;
  }

  /* encabezado fijo */
  .promo-head{
    position:sticky; 
    top:0;
    z-index:2;
    background:#ffffff;
    border-bottom:1px solid #eee;
    padding:12px 14px;
  }
  .promo-title{ 
    margin:0; font-weight:800; 
    color:#5b3bb6; 
    font-size:18px; line-height:1.2;
  }
  .promo-close{
    width:40px; height:40px; 
    border-radius:999px; 
    background:#111; color:#fff; border:0;
    font-size:18px;
  }

  /* área de slides */
  .promo-viewport{ 
    position:relative; 
    flex:1; 
    overflow:hidden; 
    background:#fff;
  }
  .promo-track{ 
    height:100%; 
    display:flex; 
    will-change:transform; 
    transition:transform .45s ease;
  }

  /* slide con scroll vertical propio */
  .pm-slide{
    min-width:100%; 
    height:100%; 
    display:flex; 
    flex-direction:column; 
    overflow:auto; 
    -webkit-overflow-scrolling:touch;
    background:#fff;
  }

  /* texto primero, grande y cómodo de leer */
  .pm-body{ 
    padding:18px 16px 12px; 
  }
  .pm-body h3{ 
    margin:0 0 8px; 
    color:#5b3bb6; 
    font-size:22px; 
    line-height:1.25; 
    letter-spacing:.2px;
  }
  .pm-body p{ 
    margin:.45rem 0; 
    color:#2b2b2b; 
    font-size:16px; 
    line-height:1.55;
  }
  .pm-body .price b{ color:#5b3bb6; }

  /* botón grande y contrastado */
  .pm-body .m-btn{
    display:inline-block;
    margin-top:10px;
    font-weight:800;
    background:#5b3bb6;
    color:#fff !important;
    text-decoration:none;
    padding:12px 16px;
    border-radius:12px;
    font-size:15px;
  }

  /* imagen con altura controlada (no aplasta) */
  .pm-img{ 
    order:2; 
    width:100%;
    height: clamp(200px, 42vh, 340px);      /* <- ajustable */
    background:#000; 
  }
  .pm-img img{ 
    width:100%; height:100%; object-fit:cover; display:block; 
  }

  /* puntos */
  .promo-dots{ 
    position:absolute; left:0; right:0; bottom:12px; 
    display:flex; justify-content:center; gap:8px; 
    pointer-events:none;
  }
  .promo-dots .dot{ 
    width:8px; height:8px; border-radius:999px; background:#c9b4f5; 
  }
  .promo-dots .dot[aria-current="true"]{ background:#6b45b1; }
}

/* cuando el visor está abierto, bloquea el scroll del fondo */
.body-lock{ overflow:hidden; height:100vh; }

 /* ===== Móvil: tema oscuro de fondo ===== */
@media (max-width:640px){
  body{ background:#0f0f12; color:#e9e9ef; }
  section{ background:transparent; }
  .card, .about-card, .video-card, .offer-card{
    background:#fff; color:#2b2b2b;
    box-shadow:0 14px 34px rgba(0,0,0,.30);
  }
  /* footer dark */
  .site-footer{ background:#0f0f12 !important; }
  .site-footer .legal{ border-top-color:rgba(255,255,255,.08) }
}
  /* ===== Móvil: espaciado de títulos y divisiones ===== */
@media (max-width:640px){
  #tratamientos-faciales > h2,
  #tratamientos-corporales > h2{
    margin-top:28px !important;
    margin-bottom:16px !important;
    letter-spacing:.2px;
  }
  /* banda gris clarita para cortar entre bloques */
  #tratamientos-faciales,
  #tratamientos-corporales{
    padding-top:10px;
    background:linear-gradient(#0f0f12 0 0) padding-box,
               linear-gradient(180deg,#EDEAF6 0,#EDEAF6 10px,transparent 10px) border-box;
    border-top:10px solid transparent;      /* truco para franja */
  }
}

  /* ===== Móvil: visor promos sin distorsión ===== */
@media (max-width:640px){
  .pm-img{ width:100%; background:#000; }
  .pm-img img{
    width:100%; height:auto; max-height:50vh; /* sin aplastar */
    object-fit:contain; display:block; background:#000;
  }
}
  
  </style>
</head>

<body>
  <header>
    <img src="logo-horizontal.png" alt="Figura Rostro KG" class="logo" />
    <h1>Bienvenidos a Figura Rostro KG</h1>
    <p>Tu centro de estética integral en Panamá</p>
  </header>

  <!-- SOBRE + VIDEO -->
  <section id="sobre">
    <div class="about-card">
      <h2>Somos tu Estética Integral en Parque Lefevre</h2>
      <p>Estamos en Royal Park – Av. Ernesto T. Lefevre, Ciudad de Panamá. Técnicas profesionales con trato cálido para una piel más luminosa y bienestar total.</p>
      <p>En nuestro canal compartimos tips y demostraciones de tratamientos. ¡Suscríbete!</p>
    </div>
    <div class="video-card">
      <div class="ratio">
        <iframe id="yt-embed" src="https://www.youtube.com/embed/II9Jexh_MgE?rel=0" title="Video de Figura Rostro KG" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
      </div>
      <div class="video-actions">
        <a class="video-btn" id="yt-open" href="https://www.youtube.com/watch?v=II9Jexh_MgE" target="_blank" rel="noopener">▶ Ver en YouTube</a>
        <button class="video-btn" id="yt-full">⤢ Pantalla completa</button>
      </div>
    </div>
  </section>

  <!-- MENÚ DE SERVICIOS (solo visible en desktop por CSS) -->
  <section id="menu-servicios">
    <h2>Menú de Servicios</h2>

    <div class="tabs" role="tablist" aria-label="Categorías de servicios">
      <button class="tab-btn active" data-tab="faciales-tab" role="tab" aria-selected="true">Faciales</button>
      <button class="tab-btn" data-tab="masajes-tab" role="tab" aria-selected="false">Masajes y Terapias</button>
      <button class="tab-btn" data-tab="especiales-tab" role="tab" aria-selected="false">Especializados</button>
    </div>

    <!-- FACIALES (6) -->
    <div id="faciales-tab" class="tab-panel">
      <div class="srv-grid">
        <article class="srv-card">
          <h3>Limpieza Facial con Extracción</h3><div class="srv-meta">45–60 min aprox.</div>
          <p>Higiene profunda, extracción, mascarilla hidratante y Vitamina C.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales","carousel":"facialesCarousel","slide":0}'>Reservar por WhatsApp</a>
        </article>
        <article class="srv-card">
          <h3>Facial con Dermaplaning</h3><div class="srv-meta">50 min aprox.</div>
          <p>Piel más suave y luminosa; ayuda a reducir marcas leves de acné.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales","carousel":"facialesCarousel","slide":1}'>Reservar por WhatsApp</a>
        </article>
        <article class="srv-card">
          <h3>Hilos de Colágeno sin Agujas</h3><div class="srv-meta">Sesión personalizada</div>
          <p>Efecto rejuvenecedor visible desde la primera sesión (costo según evaluación).</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales"}'>Agendar evaluación</a>
        </article>
        <article class="srv-card">
          <h3>Peeling + Limpieza Profunda</h3><div class="srv-meta">50–60 min aprox.</div>
          <p>Reduce manchas y líneas finas; mejora textura y luminosidad.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales","carousel":"facialesCarousel","slide":0}'>Reservar</a>
        </article>
        <article class="srv-card">
          <h3>Microdermoabrasión</h3><div class="srv-meta">45 min aprox.</div>
          <p>Exfoliación controlada para suavizar poros y renovar el tono de la piel.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales"}'>Reservar</a>
        </article>
        <article class="srv-card">
          <h3>Radiofrecuencia Facial</h3><div class="srv-meta">45–60 min aprox.</div>
          <p>Estimulación térmica para firmeza y apariencia más compacta.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales"}'>Reservar</a>
        </article>
      </div>
    </div>

    <!-- MASAJES Y TERAPIAS (6) -->
    <div id="masajes-tab" class="tab-panel hidden">
      <div class="srv-grid">
        <article class="srv-card">
          <h3>Relajante Completo</h3><div class="srv-meta">60 min aprox.</div>
          <p>Técnicas terapéuticas para aliviar tensión y equilibrar el cuerpo.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-corporales"}'>Reservar</a>
        </article>
        <article class="srv-card">
          <h3>Masaje Descontracturante</h3><div class="srv-meta">45–60 min aprox.</div>
          <p>Focalizado en cuello y espalda para aliviar tensiones y mejorar movilidad.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-corporales","carousel":"corporalesCarousel","slide":0}'>Reservar</a>
        </article>
        <article class="srv-card">
          <h3>Masaje Reductor</h3><div class="srv-meta">45 min aprox.</div>
          <p>Maniobras específicas para moldear, activar circulación y mejorar contorno.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-corporales","carousel":"corporalesCarousel","slide":0}'>Reservar</a>
        </article>
        <article class="srv-card">
          <h3>Piernas y Espalda Cansada</h3><div class="srv-meta">50 min aprox.</div>
          <p>Alivio de pesadez y descanso muscular en zonas clave.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-corporales"}'>Reservar</a>
        </article>
        <article class="srv-card">
          <h3>Drenaje Post Operatorio</h3><div class="srv-meta">Sesión según indicación</div>
          <p>Apoyo profesional para reducir edema y favorecer recuperación.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-corporales","carousel":"corporalesCarousel","slide":1}'>Reservar</a>
        </article>
        <article class="srv-card">
          <h3>Terapia para Adultos Mayores</h3><div class="srv-meta">Sesión personalizada</div>
          <p>Maniobras suaves y seguras para bienestar, movilidad y descanso.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-corporales","carousel":"corporalesCarousel","slide":1}'>Reservar</a>
        </article>
      </div>
    </div>

    <!-- ESPECIALIZADOS (6) -->
    <div id="especiales-tab" class="tab-panel hidden">
      <div class="srv-grid">
        <article class="srv-card">
          <h3>Membresía VIP</h3><div class="srv-meta">Mensual / anual</div>
          <p>Ahorra durante todo el año en tus tratamientos favoritos.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales"}'>Solicitar info</a>
        </article>
        <article class="srv-card">
          <h3>Hialuron Pen</h3><div class="srv-meta">Sesión personalizada</div>
          <p>Hidratación y volumen de labios sin agujas, de forma no invasiva.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales"}'>Agendar consulta</a>
        </article>
        <article class="srv-card">
          <h3>Plasma Rico en Plaquetas</h3><div class="srv-meta">Sesión personalizada</div>
          <p>Bioestimulación para mejorar aspecto de piel y estimular el cabello.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales"}'>Agendar consulta</a>
        </article>
        <article class="srv-card">
          <h3>Rejuvenecimiento Facial y Corporal</h3><div class="srv-meta">Plan de sesiones</div>
          <p>Protocolos combinados no invasivos para firmeza y luminosidad.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales","carousel":"facialesCarousel","slide":1}'>Conocer plan</a>
        </article>
        <article class="srv-card">
          <h3>Tratamiento Antiacné</h3><div class="srv-meta">Sesión + plan</div>
          <p>Limpieza activa y cuidado de apoyo para piel con tendencia acneica.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales"}'>Evaluación</a>
        </article>
        <article class="srv-card">
          <h3>Glow Express (Evento)</h3><div class="srv-meta">40–50 min aprox.</div>
          <p>Ilumina y alisa la piel para ocasiones especiales, sin tiempo de baja.</p>
          <a class="srv-cta" href="https://wa.me/50764746168" target="_blank" rel="noopener"
             data-go='{"section":"tratamientos-faciales"}'>Reservar</a>
        </article>
      </div>
    </div>
  </section>

  <!-- FACIALES (CARRUSEL) -->
  <section id="tratamientos-faciales">
    <h2>Tratamientos Faciales</h2>
    <div class="carousel" id="facialesCarousel" aria-roledescription="carousel">
      <div class="carousel-viewport" aria-live="polite">
        <div class="carousel-track">
          <div class="carousel-slide" role="group" aria-label="1 de 2">
            <div class="carousel-grid">
              <article class="card">
                <img src="facial-limpieza.jpg" alt="Limpieza Facial Premium" width="800" height="500" loading="lazy" onerror="this.src='banner-spa.png'">
                <div class="box"><h3>Limpieza Facial Premium</h3><p>Higiene profunda + mascarilla nutritiva. Ideal para piel opaca o con impurezas.</p></div>
              </article>
              <article class="card">
                <img src="facial-peeling.jpg" alt="Peeling Facial" width="800" height="500" loading="lazy" onerror="this.src='banner-spa.png'">
                <div class="box"><h3>Peeling Facial</h3><p>Renovación de la piel para un tono más uniforme y luminoso.</p></div>
              </article>
            </div>
          </div>
          <div class="carousel-slide" role="group" aria-label="2 de 2">
            <div class="carousel-grid">
              <article class="card">
                <img src="facial-dermaplaning.jpg" alt="Dermaplaning" width="800" height="500" loading="lazy" onerror="this.src='banner-spa.png'">
                <div class="box"><h3>Dermaplaning</h3><p>Elimina células muertas y vello fino para una piel más suave y radiante.</p></div>
              </article>
              <article class="card">
                <img src="rejuvenecimiento-facial-corporal.jpg" alt="Rejuvenecimiento facial y corporal" width="800" height="500" loading="lazy" onerror="this.src='banner-spa.png'">
                <div class="box"><h3>Rejuvenecimiento facial y corporal</h3><p>Protocolos combinados no invasivos para firmeza, brillo y textura uniforme.</p></div>
              </article>
            </div>
          </div>
        </div>
      </div>
      <button class="carousel-nav prev" aria-label="Anterior">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M15.5 19 8.5 12l7-7"/></svg>
      </button>
      <button class="carousel-nav next" aria-label="Siguiente">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="m8.5 5 7 7-7 7"/></svg>
      </button>
      <div class="carousel-dots" role="tablist" aria-label="Paginación"></div>
    </div>
  </section>

  <!-- CORPORALES (CARRUSEL) -->
  <section id="tratamientos-corporales">
    <h2>Tratamientos Corporales</h2>
    <div class="carousel" id="corporalesCarousel" aria-roledescription="carousel">
      <div class="carousel-viewport" aria-live="polite">
        <div class="carousel-track">
          <div class="carousel-slide" role="group" aria-label="1 de 2">
            <div class="carousel-grid">
              <article class="card">
                <img src="masaje-descontracturante.jpg" alt="Masaje Descontracturante" width="800" height="500" loading="lazy" onerror="this.src='banner-spa.png'">
                <div class="box"><h3>Masaje Descontracturante</h3><p>Focalizado en cuello y espalda para aliviar tensiones y mejorar movilidad.</p></div>
              </article>
              <article class="card">
                <img src="masaje-reductor.jpg" alt="Masaje Reductor" width="800" height="500" loading="lazy" onerror="this.src='banner-spa.png'">
                <div class="box"><h3>Masaje Reductor</h3><p>Maniobras específicas para moldear, activar circulación y mejorar contorno.</p></div>
              </article>
            </div>
          </div>
          <div class="carousel-slide" role="group" aria-label="2 de 2">
            <div class="carousel-grid">
              <article class="card">
                <img src="terapia-adultos-mayores.jpg" alt="Terapia para adultos mayores" width="800" height="500" loading="lazy" onerror="this.src='banner-spa.png'">
                <div class="box"><h3>Terapia para adultos mayores</h3><p>Sesiones suaves y seguras para aliviar dolor, mejorar descanso y bienestar.</p></div>
              </article>
              <article class="card">
                <img src="drenaje-post-operatorio.jpg" alt="Drenajes post operatorios" width="800" height="500" loading="lazy" onerror="this.src='banner-spa.png'">
                <div class="box"><h3>Drenajes post operatorios</h3><p>Apoyo profesional para reducir edema y acelerar recuperación (según indicación).</p></div>
              </article>
            </div>
          </div>
        </div>
      </div>
      <button class="carousel-nav prev" aria-label="Anterior">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M15.5 19 8.5 12l7-7"/></svg>
      </button>
      <button class="carousel-nav next" aria-label="Siguiente">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="m8.5 5 7 7-7 7"/></svg>
      </button>
      <div class="carousel-dots" role="tablist" aria-label="Paginación"></div>
    </div>
  </section>

  <!-- OFERTAS -->
  <section id="ofertas">
    <h2>Promos del Mes 💎</h2>
    <div class="offers-carousel" aria-roledescription="carousel">
      <div class="offers-viewport" aria-live="polite">
        <div class="offers-track">
          <article class="offer-slide" role="group" aria-label="1 de 3">
            <div class="offer-card">
              <div class="offer-info">
                <h3>✨ Combo Relax Premium</h3>
                <p>Masaje relajante + limpieza facial premium con mascarilla hidratante.</p>
                <p>Antes <s>$110</s> · Ahora <b class="precio">$85</b></p>
                <a href="https://wa.me/50764746168" target="_blank" class="btn">Reservar combo a $85</a>
              </div>
              <div class="offer-img"><img src="oferta-demo-1.jpg.png" alt="Promo Combo Relax Premium" loading="lazy"></div>
            </div>
          </article>
          <article class="offer-slide" role="group" aria-label="2 de 3">
            <div class="offer-card">
              <div class="offer-info">
                <h3>🌟 Peeling Facial Unisex</h3>
                <p>Renueva tu piel y luce un rostro más luminoso.</p>
                <p>Antes <s>$120</s> · Ahora <b class="precio">$85</b></p>
                <a href="https://wa.me/50764746168" target="_blank" class="btn">Tomar peeling a $85</a>
              </div>
              <div class="offer-img"><img src="oferta-demo-2.jpg.png" alt="Promo Peeling Facial Unisex" loading="lazy"></div>
            </div>
          </article>
          <article class="offer-slide" role="group" aria-label="3 de 3">
            <div class="offer-card">
              <div class="offer-info">
                <h3>💆 Descontracturante + Limpieza</h3>
                <p>Alivia tensiones musculares y relaja cuerpo y mente.</p>
                <p>Antes <s>$110</s> · Ahora <b class="precio">$95</b></p>
                <a href="https://wa.me/50764746168" target="_blank" class="btn">Reservar pack a $95</a>
              </div>
              <div class="offer-img"><img src="promo-masaje-limpieza.jpg" alt="Promo Masaje + Limpieza" loading="lazy"></div>
            </div>
          </article>
        </div>
      </div>
      <button class="offer-nav prev" aria-label="Oferta anterior" title="Anterior">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="M15.5 19 8.5 12l7-7"/></svg>
      </button>
      <button class="offer-nav next" aria-label="Siguiente oferta" title="Siguiente">
        <svg viewBox="0 0 24 24"><path fill="currentColor" d="m8.5 5 7 7-7 7"/></svg>
      </button>
      <div class="offer-dots" role="tablist" aria-label="Selector de ofertas">
        <button class="dot" role="tab" aria-selected="true" title="Oferta 1"></button>
        <button class="dot" role="tab" aria-selected="false" title="Oferta 2"></button>
        <button class="dot" role="tab" aria-selected="false" title="Oferta 3"></button>
      </div>
    </div>

  <!-- Promos (versión móvil por scroll-snap) -->
<div class="offers-mobile">
  <div class="m-scroll">

    <!-- Promo 1 -->
    <article class="m-offer">
      <div class="m-body">
        <h3>✨ Combo Relax Premium</h3>
        <p>Masaje relajante + limpieza facial premium con mascarilla hidratante.</p>
        <p class="price">Antes <s>$110</s> · Ahora <b>$85</b></p>
        <a href="https://wa.me/50764746168?text=Hola%20Figura%20Rostro%20KG%2C%20quiero%20reservar%20el%20Combo%20Relax%20Premium%20a%2085" target="_blank" class="m-btn">Reservar combo a $85</a>
      </div>
      <div class="m-img">
        <img src="promo-masaje-limpieza.jpg" alt="Promo Combo Relax Premium">
      </div>
    </article>

    <!-- Promo 2 -->
    <article class="m-offer">
      <div class="m-body">
        <h3>🌟 Peeling Facial Unisex</h3>
        <p>Renueva tu piel y luce un rostro más luminoso.</p>
        <p class="price">Antes <s>$120</s> · Ahora <b>$85</b></p>
        <a href="https://wa.me/50764746168?text=Hola%20Figura%20Rostro%20KG%2C%20quiero%20tomar%20el%20Peeling%20Facial%20a%2085" target="_blank" class="m-btn">Tomar peeling a $85</a>
      </div>
      <div class="m-img">
        <img src="oferta-demo-2.jpg.png" alt="Promo Peeling Facial Unisex">
      </div>
    </article>

    <!-- Promo 3 -->
    <article class="m-offer">
      <div class="m-body">
        <h3>💆 Descontracturante + Limpieza</h3>
        <p>Alivia tensiones musculares y relaja cuerpo y mente.</p>
        <p class="price">Antes <s>$110</s> · Ahora <b>$95</b></p>
        <a href="https://wa.me/50764746168?text=Hola%20Figura%20Rostro%20KG%2C%20quiero%20reservar%20el%20pack%20Descontracturante%20%2B%20Limpieza%20a%2095" target="_blank" class="m-btn">Reservar pack a $95</a>
      </div>
      <div class="m-img">
        <img src="banner-spa.png" alt="Promo Masaje + Limpieza">
      </div>
    </article>

  </div>
  <!-- puntos decorativos -->
  <div class="m-dots"><span></span><span></span><span></span></div>
</div>
<!-- Promo 1 -->
<article class="m-offer">
  ...
  <div class="m-img">
    <img src="promo-masaje-limpieza.jpg"
         alt="Promo Combo Relax Premium"
         onerror="this.src='banner-spa.png'">
  </div>
</article>

<!-- Promo 2 -->
<article class="m-offer">
  ...
  <div class="m-img">
    <img src="oferta-demo-2.jpg.png"
         alt="Promo Peeling Facial Unisex"
         onerror="this.src='banner-spa.png'">
  </div>
</article>

<!-- Promo 3 -->
<article class="m-offer">
  ...
  <div class="m-img">
    <img src="banner-spa.png"
         alt="Promo Masaje + Limpieza"
         onerror="this.src='banner-spa.png'">
  </div>
</article>

  </section>

  <!-- PRODUCTOS EN VENTA -->
  <section id="productos">
    <h2>Productos en venta</h2>
    <div class="product-scroll">
      <article class="prod-card" data-producto="Gel Limpiador Facial" data-precio="18">
        <img src="producto-gel-limpiador.jpg" alt="Gel Limpiador Facial" onerror="this.src='banner-spa.png'">
        <div class="prod-info">
          <h3>Gel Limpiador Facial</h3>
          <p>Suave, todo tipo de piel.</p>
        </div>
        <div class="prod-price">$18</div>
        <a href="#" class="prod-cta" data-whatsapp>Solicitar</a>
      </article>

      <article class="prod-card" data-producto="Sérum Vitamina C" data-precio="28">
        <img src="producto-serum-vitamina-c.jpg" alt="Sérum Vitamina C" onerror="this.src='banner-spa.png'">
        <div class="prod-info">
          <h3>Sérum Vitamina C</h3>
          <p>Luminosidad y antioxidantes.</p>
        </div>
        <div class="prod-price">$28</div>
        <a href="#" class="prod-cta" data-whatsapp>Solicitar</a>
      </article>

      <article class="prod-card" data-producto="Crema Hidratante SPF" data-precio="24">
        <img src="producto-crema-spf.jpg" alt="Crema Hidratante SPF" onerror="this.src='banner-spa.png'">
        <div class="prod-info">
          <h3>Crema Hidratante SPF</h3>
          <p>Hidratación + protección diaria.</p>
        </div>
        <div class="prod-price">$24</div>
        <a href="#" class="prod-cta" data-whatsapp>Solicitar</a>
      </article>
    </div>
  </section>

  <!-- GALERÍA -->
  <section id="galeria">
    <h2>Galería & Instagram</h2>
    <div class="media-grid" id="mediaGrid">
      <figure data-type="image" data-src="galeria-demo-1.jpg.png">
        <img src="galeria-demo-1.jpg.png" alt="Tratamiento facial premium">
      </figure>
      <figure data-type="image" data-src="galeria-demo-2.jpg.png">
        <img src="galeria-demo-2.jpg.png" alt="Masaje terapéutico relajante">
      </figure>
      <figure data-type="video" data-src="galeria-video-thumb-demo.jpg.mp4" data-poster="banner-spa.png">
        <img src="banner-spa.png" alt="Video testimonio">
      </figure>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="site-footer">
    <footer class="site-footer">
  <div class="footer-inner">

    <!-- LOGO ARRIBA -->
    <div class="footer-info">
      <img src="logo-horizontal.png" alt="Figura Rostro KG" class="logo" />

      <h5>Horario</h5>
      <p>
        Lun – Vie: 6 AM – 8 PM<br>
        Sáb: 9 AM – 8 PM · Dom: 10 AM – 5 PM
      </p>

      <h5>Ubicación</h5>
      <p>
        Ave. Ernesto T. Lefevre, PH Royal Park, Local 15PB,<br>
        Ciudad de Panamá
      </p>

      <h5>Contacto</h5>
      <p>
        <a href="tel:+50764746168" style="color:#fff;text-decoration:underline;">+507 6474-6168</a><br>
        <a href="mailto:figurarostro25@gmail.com" style="color:#fff;text-decoration:underline;">figurarostro25@gmail.com</a>
      </p>
    </div>

    <!-- ICONOS DE REDES SOCIALES -->
    <div class="social">
      <div class="icons">
        <a href="https://www.instagram.com/figurarostrokg" class="ico" target="_blank" aria-label="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
        <a href="https://www.facebook.com/figurarostrokg" class="ico" target="_blank" aria-label="Facebook">
          <i class="fab fa-facebook"></i>
        </a>
        <a href="https://www.youtube.com/@figurarostrokg" class="ico" target="_blank" aria-label="YouTube">
          <i class="fab fa-youtube"></i>
        </a>
        <a href="https://wa.me/50764746168" class="ico" target="_blank" aria-label="WhatsApp">
          <i class="fab fa-whatsapp"></i>
        </a>
      </div>
    </div>

    <!-- COPYRIGHT -->
    <div class="legal">
      © 2025 Figura Rostro KG · Todos los derechos reservados
    </div>

  </div>
</footer>

  </footer>

  <!-- FABs -->
  <div class="fab-stack" aria-label="Accesos rápidos">
    <a class="fab menu" href="#menu-servicios" id="fabMenu" aria-label="Ver menú de servicios" title="Ver menú">
      <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18v2H3V6Zm0 5h18v2H3v-2Zm0 5h18v2H3v-2Z"/></svg>
    </a>
    <a class="fab waze" href="https://ul.waze.com/ul?q=2G42%2BGC%20Panam%C3%A1&navigate=yes" target="_blank" rel="noopener" aria-label="Cómo llegar con Waze" title="Waze">
      <svg viewBox="0 0 24 24"><path d="M12 3c4.15 0 7.5 3.13 7.5 7 0 2.39-1.35 4.05-2.62 5.2.06.34.12.9.12 1.22 0 .83-.67 1.5-1.5 1.5-.54 0-1.02-.29-1.28-.72-.45.11-.93.17-1.42.17-.48 0-.94-.06-1.38-.18-.24.44-.7.73-1.24.73-.83 0-1.5-.67-1.5-1.5 0-.22.04-.57.11-.88C6.77 14.29 4.5 12.13 4.5 10c0-3.87 3.35-7 7.5-7z" fill="#fff"/><circle cx="9.5" cy="10.4" r="1.1" fill="#2BC3F3"/><circle cx="14.5" cy="10.4" r="1.1" fill="#2BC3F3"/></svg>
    </a>
    <a class="fab whatsapp" href="https://wa.me/50764746168" target="_blank" rel="noopener" aria-label="WhatsApp Figura Rostro KG" title="WhatsApp">
      <svg viewBox="0 0 24 24"><path d="M20.5 3.5A10 10 0 0 0 3.9 17.7L3 21l3.4-.9A10 10 0 1 0 20.5 3.5ZM12 20a8 8 0 0 1-4.1-1.1l-.3-.2-2.4 .6 .6 -2.4 -.2 -.3 A8 8 0 1 1 12 20Zm4-5.3c-.2-.1-1.2-.6-1.4-.7-.2-.1-.4-.1-.6.1l-.5.6c-.1.1-.3.1-.5.1-1 0-2.4-1.1-2.8-1.9-.2-.3-.2-.5 0-.7l.4-.5c.1-.2.1-.3 0-.5l-.7-1.5c-.2-.4-.4-.4-.6-.4h-.5c-.2 0-.5.1-.7.3-.7.7-1.1 1.6-1.1 2.5 0 .3.1 .7.2 1 .6 1.6 2.4 3.3 3.9 3.9 .3 .1 .7 .2 1 .2 .9 0 1.8 -.3 2.5 -1.1 .2 -.2 .3 -.4 .3 -.6 v-.5 c0 -.2 0 -.4 -.2 -.6 Z" fill="#fff"/></svg>
    </a>
  </div>

  <!-- MODAL RESERVA PROMOS -->
  <dialog id="reserveModal" style="border:0;border-radius:16px;max-width:min(520px,92vw);padding:0;overflow:hidden;box-shadow:0 24px 60px rgba(0,0,0,.35)">
    <div style="padding:18px">
      <button id="reserveClose" style="position:absolute;top:8px;right:8px;background:#0008;color:#fff;border:0;width:36px;height:36px;border-radius:999px;cursor:pointer">✕</button>
      <h3 id="reserveTitle" style="margin:.3rem 0 0;color:#7e63c9">Reserva</h3>
      <p id="reserveDesc" style="color:#555;margin:.4rem 0 1rem">¿Quieres reservar esta promoción?</p>
      <a id="reserveWhats" href="#" target="_blank" rel="noopener"
         style="display:inline-block;background:linear-gradient(135deg,var(--lavanda),var(--violeta));color:#fff;text-decoration:none;padding:.6rem 1rem;border-radius:999px;font-weight:700">
         Reservar por WhatsApp
      </a>
    </div>
  </dialog>

  <!-- JS carruseles reutilizables -->
  <script>
    // Registro simple para poder mover carruseles desde el menú
    window.__carousels = {};
    function registerCarousel(id, api){ window.__carousels[id]=api; }
    function goCarousel(id, slide){ const c=window.__carousels[id]; if(c && typeof slide==='number') c.goTo(slide); }

    function initCarousel(rootId,{autoplayMs=6000}={}){
      const root=document.getElementById(rootId); if(!root) return;
      const track=root.querySelector('.carousel-track');
      const slides=[...root.querySelectorAll('.carousel-slide')];
      const prev=root.querySelector('.carousel-nav.prev');
      const next=root.querySelector('.carousel-nav.next');
      const dotsWrap=root.querySelector('.carousel-dots');
      const viewport=root.querySelector('.carousel-viewport');

      dotsWrap.innerHTML='';
      slides.forEach((_,i)=>{
        const b=document.createElement('button');
        b.className='dot'; b.setAttribute('role','tab');
        b.setAttribute('aria-selected',i===0?'true':'false');
        b.title='Slide '+(i+1); b.onclick=()=>goTo(i);
        dotsWrap.appendChild(b);
      });
      const dots=[...dotsWrap.querySelectorAll('.dot')];

      let index=0, count=slides.length, timer=null, isPaused=false;

      function update(){
        track.style.transform=`translateX(-${index*100}%)`;
        slides.forEach((s,i)=>s.setAttribute('aria-hidden',i!==index));
        dots.forEach((d,i)=>d.setAttribute('aria-selected',i===index?'true':'false'));
      }
      function goTo(i){ index=(i+count)%count; update(); }

      const nextSlide=()=>goTo(index+1), prevSlide=()=>goTo(index-1);
      next?.addEventListener('click',nextSlide);
      prev?.addEventListener('click',prevSlide);

      function start(){ clearInterval(timer); timer=setInterval(()=>{ if(!isPaused) nextSlide(); },autoplayMs); }
      viewport.addEventListener('mouseenter',()=>isPaused=true);
      viewport.addEventListener('mouseleave',()=>isPaused=false);
      viewport.setAttribute('tabindex','0');
      viewport.addEventListener('keydown',e=>{ if(e.key==='ArrowRight')nextSlide(); if(e.key==='ArrowLeft')prevSlide(); });

      update(); start();
      registerCarousel(rootId, { goTo });
    }
    initCarousel('facialesCarousel',{autoplayMs:6000});
    initCarousel('corporalesCarousel',{autoplayMs:6000});
  </script>

  <!-- JS carrusel de ofertas -->
  <script>
  (function(){
    const track=document.querySelector('.offers-track');
    const slides=[...document.querySelectorAll('.offer-slide')];
    const prev=document.querySelector('.offer-nav.prev');
    const next=document.querySelector('.offer-nav.next');
    const dots=[...document.querySelectorAll('.offer-dots .dot')];
    const viewport=document.querySelector('.offers-viewport');
    let index=0,count=slides.length,timer=null,isPaused=false,dur=6000;
    function update(){track.style.transform=`translateX(-${index*100}%)`;
      slides.forEach((el,i)=>{el.setAttribute('aria-hidden',i!==index);el.querySelectorAll('a,button').forEach(c=>c.tabIndex=i===index?0:-1)});
      dots.forEach((d,i)=>d.setAttribute('aria-selected',i===index)) }
    function goTo(i){index=(i+count)%count;update()}
    function nextSlide(){goTo(index+1)} function prevSlide(){goTo(index-1)}
    next.addEventListener('click',nextSlide); prev.addEventListener('click',prevSlide); dots.forEach((d,i)=>d.addEventListener('click',()=>goTo(i)));
    function start(){clearInterval(timer);timer=setInterval(()=>{if(!isPaused) nextSlide()},dur)}
    viewport.addEventListener('mouseenter',()=>isPaused=true);
    viewport.addEventListener('mouseleave',()=>isPaused=false);
    viewport.setAttribute('tabindex','0'); viewport.addEventListener('keydown',e=>{if(e.key==='ArrowRight')nextSlide(); if(e.key==='ArrowLeft')prevSlide();});
    update(); start();
  })();
  </script>

  <!-- JS video + lightbox -->
  <script>
    (function(){
      const btnFull=document.getElementById('yt-full');
      const modal=document.getElementById('videoModal')||(()=>{const d=document.createElement('dialog');d.id='videoModal';d.className='video-modal';d.innerHTML=`<button class="close-btn" id="videoClose">✕</button><div class="ratio"><iframe id="yt-modal" src="" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div>`;document.body.appendChild(d);return d})();
      const closeBtn=document.getElementById('videoClose');
      const ytInline=document.getElementById('yt-embed');
      const ytModal=document.getElementById('yt-modal');
      function getId(){const m=ytInline.src.match(/embed\/([^?]+)/);return m?m[1]:''}
      btnFull?.addEventListener('click',()=>{const id=getId();ytModal.src=`https://www.youtube.com/embed/${id}?rel=0&autoplay=1`;modal.showModal();document.documentElement.style.overflow='hidden';});
      closeBtn?.addEventListener('click',()=>{ytModal.src='';modal.close();document.documentElement.style.overflow='';});
      const a=document.getElementById('yt-open');const id=getId(); if(a&&id) a.href=`https://www.youtube.com/watch?v=${id}`;
    })();

    (function(){
      const grid=document.getElementById('mediaGrid'); if(!grid) return;

      let dialog=document.getElementById('lightbox');
      if(!dialog){
        dialog=document.createElement('dialog');
        dialog.id='lightbox';
        dialog.innerHTML=`<div class="lightbox-body"><button class="lightbox-close" aria-label="Cerrar">✕</button><div class="ratio"><div id="lightboxContent"></div></div></div>`;
        document.body.appendChild(dialog);
      }
      const closeBtn=dialog.querySelector('.lightbox-close');
      const content=dialog.querySelector('#lightboxContent');

      function lockScroll(lock){document.documentElement.style.overflow=lock?'hidden':'';document.body.style.overflow=lock?'hidden':'';}
      function openLightbox(node){content.innerHTML='';content.appendChild(node);dialog.showModal();lockScroll(true);}
      function closeLightbox(){content.innerHTML='';dialog.close();lockScroll(false);}

      grid.addEventListener('click',e=>{
        const fig=e.target.closest('figure'); if(!fig) return;
        const type=fig.dataset.type, src=fig.dataset.src, poster=fig.dataset.poster||'';
        if(type==='image'){const img=new Image(); img.src=src; img.alt=fig.querySelector('img')?.alt||'Imagen'; openLightbox(img);}
        else if(type==='video'){const v=document.createElement('video'); v.src=src; v.controls=true; v.autoplay=true; if(poster) v.poster=poster; openLightbox(v);}
      });

      closeBtn.addEventListener('click',closeLightbox);
      dialog.addEventListener('close',()=>{content.innerHTML='';lockScroll(false);});
      dialog.addEventListener('click', (e)=>{
        const box = content.getBoundingClientRect();
        const fuera = e.clientX < box.left || e.clientX > box.right || e.clientY < box.top || e.clientY > box.bottom;
        if(fuera) closeLightbox();
      });
      dialog.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeLightbox(); });
    })();

    document.getElementById('y')?.append(new Date().getFullYear());

    // Tabs + scroll suave + CTA sincronizado con carruseles
    (function(){
      const btns=[...document.querySelectorAll('#menu-servicios .tab-btn')];
      const panels=[...document.querySelectorAll('#menu-servicios .tab-panel')];
      function show(id){
        btns.forEach(b=>{const active=b.dataset.tab===id; b.classList.toggle('active',active); b.setAttribute('aria-selected',active?'true':'false');});
        panels.forEach(p=>p.classList.toggle('hidden',p.id!==id));
      }
      btns.forEach(b=>b.addEventListener('click',()=>show(b.dataset.tab)));
      show('faciales-tab');

      function highlight(el){ if(!el) return; el.style.outline='3px solid rgba(126,99,201,.25)'; el.style.boxShadow='0 0 0 6px rgba(126,99,201,.12) inset'; setTimeout(()=>{el.style.outline='';el.style.boxShadow='';},1500); }

      document.addEventListener('click',function(e){
        const a=e.target.closest('a.srv-cta[data-go]'); if(!a) return;
        e.preventDefault();
        const spec = JSON.parse(a.getAttribute('data-go'));
        const sec = spec?.section ? document.getElementById(spec.section) : null;
        if(sec){ sec.scrollIntoView({behavior:'smooth',block:'start'}); highlight(sec.querySelector('h2')||sec); }
        if(spec?.carousel){ setTimeout(()=>goCarousel(spec.carousel, spec.slide ?? 0), 300); }
        setTimeout(()=>{ window.open(a.href,'_blank','noopener'); }, 600);
      }, true);

      // FAB: en móvil → Faciales, en desktop → Menú
      const toMenu=document.getElementById('fabMenu');
      toMenu?.addEventListener('click',function(e){
        e.preventDefault();
        const isMobile = window.matchMedia('(max-width:640px)').matches;
        const targetId = isMobile ? 'tratamientos-faciales' : 'menu-servicios';
        document.getElementById(targetId)?.scrollIntoView({behavior:'smooth', block:'start'});
      });
    })();
  </script>

  <!-- SWIPE & UX ENHANCEMENTS (Promos) -->
  <script>
  (function(){
    function addSwipe(container, onPrev, onNext){
      if(!container) return;
      let x0=null, y0=null, lock=false;
      const TH=18;
      container.addEventListener('touchstart',e=>{
        const t=e.changedTouches[0]; x0=t.clientX; y0=t.clientY; lock=false;
      },{passive:true});
      container.addEventListener('touchmove',e=>{
        if(x0===null || lock) return;
        const t=e.changedTouches[0], dx=t.clientX-x0, dy=t.clientY-y0;
        if(Math.abs(dy)>Math.abs(dx)) { lock=true; return; }
        if(Math.abs(dx)>TH){ dx<0 ? onNext?.() : onPrev?.(); x0=null; }
      },{passive:true});
    }

    const offViewport = document.querySelector('.offers-viewport');
    const offPrev = document.querySelector('.offer-nav.prev');
    const offNext = document.querySelector('.offer-nav.next');

    addSwipe(offViewport, ()=>offPrev?.click(), ()=>offNext?.click());

    document.addEventListener('visibilitychange', ()=>{
      const evt = new Event(document.hidden ? 'mouseenter' : 'mouseleave');
      offViewport?.dispatchEvent(evt);
    });
  })();
  </script>

  <!-- WhatsApp helpers (promos + productos) -->
  <script>
    const WA_NUMBER = "50764746168";
    function waLink(text){
      const t = encodeURIComponent(text);
      return `https://wa.me/${WA_NUMBER}?text=${t}`;
    }

    // Promos → Modal de reserva con WhatsApp
    (function(){
      const modal = document.getElementById('reserveModal');
      const closeBtn = document.getElementById('reserveClose');
      const title = document.getElementById('reserveTitle');
      const desc = document.getElementById('reserveDesc');
      const btn = document.getElementById('reserveWhats');
      const slides = document.querySelectorAll('.offer-slide');

      slides.forEach(slide=>{
        slide.addEventListener('click', e=>{
          if(e.target.closest('a,button')) return; // evitar doble click
          const name = slide.querySelector('h3')?.textContent?.trim() || 'Promoción';
          title.textContent = name;
          desc.textContent = '¿Deseas reservar esta promoción? Te atendemos por WhatsApp.';
          btn.href = waLink(`Hola, me interesa la promoción: ${name} en Figura Rostro KG.`);
          modal.showModal();
          document.documentElement.style.overflow='hidden';
        });
      });
      closeBtn?.addEventListener('click', ()=>{ modal.close(); document.documentElement.style.overflow=''; });
      modal?.addEventListener('click', (e)=>{
        const box = modal.getBoundingClientRect();
        if(e.clientY < box.top || e.clientY > box.bottom || e.clientX < box.left || e.clientX > box.right){
          modal.close(); document.documentElement.style.overflow='';
        }
      });
    })();

    // Productos → botón Solicitar con mensaje prellenado
    (function(){
      document.querySelectorAll('[data-whatsapp]').forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          e.preventDefault();
          const card = btn.closest('.prod-card');
          const nombre = card?.dataset.producto || 'Producto';
          const precio = card?.dataset.precio ? `$${card.dataset.precio}` : '';
          const url = waLink(`Hola, me interesa el producto: ${nombre} ${precio ? '('+precio+')' : ''} de Figura Rostro KG.`);
          window.open(url, '_blank', 'noopener');
        });
      });
    })();
  </script>
 <!-- Visor full-screen de Promos (móvil) -->
<div id="promoModal" class="promo-modal" aria-hidden="true">
  <div class="promo-backdrop"></div>
  <div class="promo-view" role="dialog" aria-modal="true" aria-label="Visor de promociones">
    <div class="promo-head">
      <h4 class="promo-title">Promoción</h4>
      <button class="promo-close" id="promoClose" aria-label="Cerrar">✕</button>
    </div>
    <div class="promo-viewport">
      <div class="promo-track" id="promoTrack"><!-- slides dinámicos --></div>
      <div class="promo-dots" id="promoDots"></div>
    </div>
  </div>
</div>
 <script>
(function(){
  const mobileOffers = [...document.querySelectorAll('#ofertas .offers-mobile .m-offer')];
  if (!mobileOffers.length) return;

  const modal   = document.getElementById('promoModal');
  const track   = document.getElementById('promoTrack');
  const dotsBox = document.getElementById('promoDots');
  const titleEl = modal.querySelector('.promo-title');
  const btnClose= document.getElementById('promoClose');
  let index = 0, touchStartX = 0, touchDX = 0;

  // Construye slides con el contenido de las tarjetas móviles
  mobileOffers.forEach((card, i) => {
    const slide = document.createElement('section');
    slide.className = 'pm-slide';

    // extrae título, texto, precio, botón e imagen
    const h3    = card.querySelector('h3')?.outerHTML || '<h3>Promo</h3>';
    const paras = [...card.querySelectorAll('.m-body p')].map(p=>p.outerHTML).join('');
    const btn   = card.querySelector('.m-btn')?.outerHTML || '';
    const img   = card.querySelector('.m-img')?.outerHTML || '';

    slide.innerHTML = `
      <div class="pm-body">
        ${h3}
        ${paras}
        ${btn}
      </div>
      ${img}
    `;
    track.appendChild(slide);

    // dot
    const dot = document.createElement('span');
    dot.className = 'dot';
    dot.setAttribute('role','tab');
    dot.addEventListener('click', ()=> goTo(i));
    dotsBox.appendChild(dot);

    // abrir visor al tocar una card
    card.addEventListener('click', ()=> open(i));
  });

  function update(){
    track.style.transform = `translateX(-${index*100}%)`;
    dotsBox.querySelectorAll('.dot').forEach((d,i)=> d.setAttribute('aria-current', i===index ? 'true':'false'));
    const currentH3 = track.children[index]?.querySelector('h3')?.textContent?.trim() || 'Promoción';
    titleEl.textContent = currentH3;
  }

  function open(i=0){
    index=i; update();
    modal.classList.add('open');
    document.documentElement.classList.add('body-lock'); // evita scroll fondo
    modal.setAttribute('aria-hidden','false');
  }

  function close(){
    modal.classList.remove('open');
    document.documentElement.classList.remove('body-lock');
    modal.setAttribute('aria-hidden','true');
  }

  function goTo(i){
    const count = track.children.length;
    index = (i + count) % count;
    update();
  }
  function next(){ goTo(index+1); }
  function prev(){ goTo(index-1); }

  // Cerrar
  btnClose.addEventListener('click', close);
  modal.querySelector('.promo-backdrop').addEventListener('click', close);
  document.addEventListener('keydown', (e)=>{ if(modal.classList.contains('open') && e.key==='Escape') close(); });

  // Gestos táctiles
  track.addEventListener('touchstart', (e)=>{ touchStartX = e.touches[0].clientX; touchDX=0; }, {passive:true});
  track.addEventListener('touchmove',  (e)=>{ touchDX = e.touches[0].clientX - touchStartX; }, {passive:true});
  track.addEventListener('touchend',   ()=>{
    if (Math.abs(touchDX) > 50){ touchDX<0 ? next() : prev(); }
  });

  // Evitar scroll del body al hacer scroll horizontal accidental
  track.addEventListener('wheel',(e)=>{ if(Math.abs(e.deltaX) > Math.abs(e.deltaY)) e.preventDefault(); }, {passive:false});
})();
</script>
<script>
(function(){
  // si no existe el visor, no hace nada
  const modal = document.getElementById('promoModal');
  if(!modal) return;
  const track = document.getElementById('promoTrack');
  const titleEl = modal.querySelector('.promo-title');
  let index = 0, startX = 0, dx = 0;

  // helper: actualiza (relee index que ya maneja el script anterior)
  function _currentIndex(){
    // intentar inferir índice desde transform actual
    const m = /translateX\\(-([\\d.]+)%\\)/.exec(track.style.transform||'');
    return m ? Math.round(parseFloat(m[1])/100) : index;
  }
  function ensureReadable(){
    index = _currentIndex();
    const slide = track.children[index];
    if(slide){ slide.scrollTo({top:0, behavior:'instant'}); }
    const h3 = slide?.querySelector('h3')?.textContent?.trim() || 'Promoción';
    titleEl.textContent = h3;
  }

  // enganche simple a apertura: cuando el modal entra en DOM abierto
  const obs = new MutationObserver(()=>{
    if(modal.classList.contains('open')){ 
      setTimeout(ensureReadable, 50);
    }
  });
  obs.observe(modal, { attributes:true, attributeFilter:['class'] });

  // gesto con umbral un poco mayor para evitar cambios involuntarios
  track.addEventListener('touchstart', e=>{ startX=e.touches[0].clientX; dx=0; }, {passive:true});
  track.addEventListener('touchmove',  e=>{ dx = e.touches[0].clientX - startX; }, {passive:true});
  track.addEventListener('touchend',   ()=>{
    if(Math.abs(dx) > 70){ /* <- umbral mayor */
      // dejamos que el script de navegación existente haga next/prev
      // aquí solo reseteamos scroll del nuevo slide tras 120ms
      setTimeout(ensureReadable, 120);
    }
  });
})();
</script>

</body>
</html>


