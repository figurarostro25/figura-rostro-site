<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Solicitud de Cita | Figura Rostro KG</title>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --brand: #5b2580;
      --brand-dark: #3a1555;
      --chiriqui-green: #007a33;
      --bg-light: #fdfbfd;
      --text-main: #2d2d2d;
    }
    body{
      margin:0; font-family: 'Inter', sans-serif; background: var(--bg-light); color: var(--text-main);
      display: flex; flex-direction: column; min-height: 100vh;
    }
    
    header { background: #fff; padding: 15px 20px; text-align: center; border-bottom: 1px solid #eee; }
    header img { height: 50px; }

    .form-container {
      max-width: 500px;
      margin: 40px auto;
      padding: 30px;
      background: #fff;
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(91, 37, 128, 0.08);
      width: 90%;
    }
    
    h1 { font-family: 'Playfair Display', serif; color: var(--brand); text-align: center; margin-top: 0; }
    p { text-align: center; color: #666; font-size: 14px; margin-bottom: 30px; }

    label { display: block; margin-bottom: 8px; font-weight: 600; font-size: 14px; color: var(--brand-dark); }
    input[type="text"], input[type="tel"], select {
      width: 100%;
      padding: 14px;
      margin-bottom: 20px;
      border: 1px solid #ddd;
      border-radius: 10px;
      font-size: 16px;
      font-family: 'Inter', sans-serif;
      box-sizing: border-box;
      transition: 0.3s;
    }
    input:focus, select:focus { border-color: var(--brand); outline: none; }

    /* MENSAJE ESPECIAL CHIRIQUÍ */
    #chiriqui-promo {
      display: none;
      background: #f0fff4;
      border: 2px solid var(--chiriqui-green);
      padding: 20px;
      border-radius: 15px;
      margin-bottom: 25px;
      text-align: center;
      animation: slideDown 0.4s ease;
    }
    #chiriqui-promo h3 { color: var(--chiriqui-green); margin: 0 0 10px; font-size: 18px; }
    
    /* SECCIÓN YAPPY (CHECKBOX) */
    #yappy-check-section {
      display: none;
      background: #fdf2fa;
      padding: 20px;
      border-radius: 10px;
      border: 1px dashed var(--brand);
      margin-bottom: 20px;
      animation: fadeIn 0.4s ease;
    }
    
    /* Estilo del Checkbox grande */
    .checkbox-container {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 15px;
      cursor: pointer;
    }
    .checkbox-container input {
      width: 20px; height: 20px; margin: 0; cursor: pointer;
    }
    .checkbox-text { font-weight: 600; color: var(--brand); font-size: 15px; }

    /* Boton Ayuda WhatsApp */
    .btn-help-wa {
      display: flex; align-items: center; justify-content: center; gap: 8px;
      background: #25D366; color: white;
      padding: 10px; border-radius: 8px; text-decoration: none;
      font-size: 13px; font-weight: 600; width: 100%; box-sizing: border-box;
    }
    .btn-help-wa:hover { background: #1ebc57; }

    .btn-ig-mini {
      display: inline-flex; align-items: center; gap: 8px;
      background: linear-gradient(45deg, #f09433, #bc1888);
      color: white; padding: 8px 16px; border-radius: 30px;
      text-decoration: none; font-size: 13px; font-weight: 700;
    }

    .btn-submit {
      width: 100%;
      padding: 16px;
      background: var(--brand);
      color: white;
      border: none;
      border-radius: 50px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
      display: flex; justify-content: center; align-items: center; gap: 10px;
    }
    .btn-submit:hover { background: var(--brand-dark); transform: translateY(-2px); }

    @keyframes slideDown { from { opacity:0; transform:translateY(-10px); } to { opacity:1; transform:translateY(0); } }
    @keyframes fadeIn { from { opacity:0; } to { opacity:1; } }
  </style>
</head>
<body>

  <header>
    <a href="/"><img src="logo-header-white.png" alt="Figura Rostro KG" style="filter: brightness(0.2) invert(0.2) sepia(1) hue-rotate(240deg) saturate(3);"></a>
  </header>

  <div class="form-container">
    <h1>Solicitud de Cita</h1>
    <p>Completa tus datos para agendar tu valoración.</p>

    <form action="https://formsubmit.co/TU_CORREO_AQUI" method="POST">
      
      <input type="hidden" name="_subject" value="Nueva Cita Agendada (Desde Web)">
      <input type="hidden" name="_captcha" value="false">
      <input type="hidden" name="_next" value="https://figurarostro.life/"> 

      <label for="nombre">Nombre Completo</label>
      <input type="text" name="Nombre" id="nombre" placeholder="Tu nombre" required>

      <label for="telefono">Teléfono / WhatsApp</label>
      <input type="tel" name="Telefono" placeholder="6000-0000" required>

      <label for="provincia">Provincia de Residencia *</label>
      <select name="Provincia" id="provincia" required onchange="verificarFormulario()">
        <option value="" disabled selected>Selecciona tu ubicación</option>
        <option value="Panamá">Ciudad de Panamá</option>
        <option value="Panamá Oeste">Panamá Oeste</option>
        <option value="Colón">Colón</option>
        <option value="Provincias Centrales">Provincias Centrales</option>
        <option value="Chiriquí">Chiriquí (David / Tierras Altas)</option>
      </select>

      <div id="chiriqui-promo">
        <h3>⛰️ ¡Atención Chiriquí!</h3>
        <p style="margin-bottom:10px; font-size:14px;">Próxima gira: <strong>Enero/Febrero</strong>.</p>
        <p style="font-size:13px; margin-bottom:15px; color:#444;">Al enviar, quedarás registrada como <strong>CLIENTE FUNDADORA</strong>. ¡Síguenos para tu bono!</p>
        <a href="https://instagram.com/figurarostrokg" target="_blank" class="btn-ig-mini">
          Síguenos en Instagram
        </a>
      </div>

      <label for="tratamiento">Tratamiento de interés</label>
      <input type="text" name="Tratamiento" id="tratamiento" placeholder="Ej: Párpados, abdomen, limpieza..." required>

      <label for="metodoPago">Método de Pago / Reserva</label>
      <select name="Metodo_Pago" id="metodoPago" required onchange="verificarFormulario()">
        <option value="" disabled selected>Selecciona una opción</option>
        <option value="Directo">Pagaré en la Cita / Consultar</option>
        <option value="Yappy">Pago por Yappy (Tengo Comprobante)</option>
      </select>

      <div id="yappy-check-section">
        <label class="checkbox-container">
          <input type="checkbox" name="Yappy_Confirmado" id="checkYappy" value="Si">
          <span class="checkbox-text">✅ He realizado el Yappy</span>
        </label>
        
        <a href="https://wa.me/50764746168?text=Hola,%20tengo%20problemas%20para%20hacer%20el%20Yappy%20de%20mi%20cita." target="_blank" class="btn-help-wa">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24"><path d="M12 2a10 10 0 0 0-8.94 14.5L2 22l5.7-1.5A10 10 0 1 0 12 2zm5.5 14.1c-.24.68-1.4 1.3-1.96 1.34-.5.03-1.14.05-1.84-.12-.42-.1-.97-.31-1.67-.61-2.94-1.27-4.86-4.2-5.01-4.4-.15-.2-1.2-1.6-1.2-3.06 0-1.45.76-2.16 1.03-2.45.27-.3.6-.37.8-.37.2 0 .4 0 .57.01.18.01.43-.07.67.51.24.59.82 2.05.9 2.2.07.15.12.33.01.53-.1.2-.15.33-.3.51-.15.18-.31.4-.44.54-.15.15-.31.32-.13.62.18.3.8 1.3 1.71 2.1 1.18 1.05 2.17 1.37 2.47 1.52.3.15.48.13.66-.08.18-.2.76-.89.96-1.2.2-.3.41-.26.67-.15.26.1 1.64.77 1.92.91.29.15.48.22.55.34.07.12.07.7-.17 1.38z"/></svg>
          ¿Dudas con el pago? Escríbenos
        </a>
      </div>

      <button type="submit" class="btn-submit">
        Enviar Solicitud
        <svg width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"></path></svg>
      </button>
      
    </form>
  </div>

  <script>
    function verificarFormulario() {
      const provincia = document.getElementById('provincia').value;
      const metodo = document.getElementById('metodoPago').value;
      const promoChiriqui = document.getElementById('chiriqui-promo');
      const checkSection = document.getElementById('yappy-check-section');
      const checkbox = document.getElementById('checkYappy');
      
      // 1. Lógica Chiriquí
      if (provincia === 'Chiriquí') {
        promoChiriqui.style.display = 'block';
      } else {
        promoChiriqui.style.display = 'none';
      }

      // 2. Lógica Yappy (Simple)
      if (metodo === 'Yappy') {
        // Mostrar sección de check + ayuda
        checkSection.style.display = 'block';
        // Hacer obligatorio el checkbox
        checkbox.required = true;
      } else {
        // Ocultar sección
        checkSection.style.display = 'none';
        // Quitar obligatoriedad
        checkbox.required = false;
        checkbox.checked = false;
      }
    }
  </script>

</body>
</html>
